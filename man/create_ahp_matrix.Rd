% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ahp.R
\name{create_ahp_matrix}
\alias{create_ahp_matrix}
\title{Create AHP pairwise comparison matrix interactively}
\usage{
create_ahp_matrix(indicators, mode = "interactive", pairwise = NULL)
}
\arguments{
\item{indicators}{Character vector of indicator names to be compared.}

\item{mode}{Character string specifying the mode: "interactive" for guided
prompts (default) or "matrix" to provide a pre-built matrix.}

\item{pairwise}{Optional pre-built pairwise comparison matrix (only used when
mode = "matrix"). Must be a square matrix with dimensions matching the
number of indicators.}
}
\value{
An object of class "ahp_matrix" containing:
  \item{indicators}{Character vector of indicator names}
  \item{matrix}{Numeric matrix of pairwise comparisons}
  \item{weights}{Named numeric vector of normalized weights}
  \item{CR}{Consistency Ratio}
  \item{lambda_max}{Maximum eigenvalue}
}
\description{
This function creates an AHP pairwise comparison matrix through interactive
prompts or from a provided matrix. In interactive mode, it guides the user
through pairwise comparisons of all indicators, validates inputs, calculates
weights, and returns a structured ahp_matrix object.
}
\details{
In interactive mode, the function displays the Saaty scale and prompts for
pairwise comparisons between all indicator pairs. The Saaty scale is:
\itemize{
  \item 1 = Equal importance
  \item 3 = Moderate importance of first over second
  \item 5 = Strong importance of first over second
  \item 7 = Very strong importance of first over second
  \item 9 = Extreme importance of first over second
  \item 2, 4, 6, 8 = Intermediate values
  \item 1/3, 1/5, 1/7, 1/9 = Reciprocal values (second more important)
}

Users can enter values as decimals (e.g., 0.333) or fractions (e.g., "1/3").
The function validates that all inputs are within the valid range (1/9 to 9).

After collecting all comparisons, the function calculates weights using
eigenvalue decomposition and computes the Consistency Ratio (CR). If CR > 0.1,
a warning is displayed indicating inconsistent judgments.
}
\examples{
\dontrun{
# Interactive mode - prompts user for comparisons
ahp_result <- create_ahp_matrix(c("pH", "OM", "P"))
print(ahp_result)
}

# Matrix mode - provide pre-built matrix
pairwise <- matrix(c(
  1,   3,   5,
  1/3, 1,   2,
  1/5, 1/2, 1
), nrow = 3, byrow = TRUE)
ahp_result <- create_ahp_matrix(
  indicators = c("pH", "OM", "P"),
  mode = "matrix",
  pairwise = pairwise
)
print(ahp_result)

}
\seealso{
\code{\link{ahp_weights}}, \code{\link{ratio_to_saaty}}
}
